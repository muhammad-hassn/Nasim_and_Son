{% extends 'base.html' %}
{% load static %}

{% block title %}{{ category.meta_title|default:category.name }} | {{ company_name }}{% endblock %}
{% block meta_description %}{{ category.meta_description|default:category.description }}{% endblock %}

{% block content %}
<div class="container" style="padding: 60px 20px;">
    <h1>{{ category.name }}</h1>
    <p class="lead">{{ category.description }}</p>

    <div class="grid" style="margin-top: 40px;">
        {% for product in products %}
        <div class="card">
            {% if product.image %}
            <img src="{{ product.image.url }}" alt="{{ product.name }}">
            {% else %}
            <img src="{% static 'images/placeholder.jpg' %}" alt="{{ product.name }}">
            {% endif %}
            <div class="card-body">
                <h3 class="card-title">{{ product.name }}</h3>
                <p>{{ product.short_description|truncatewords:10 }}</p>
                <div style="display: flex; gap: 10px; margin-top: 10px;">
                    <a href="{{ product.get_absolute_url }}" class="btn">View Details</a>
                    <a href="{% url 'inquiries:add_to_quote' product.id %}" class="btn btn-outline" style="font-size: 0.9rem;">+ Quote</a>
                </div>
            </div>
        </div>
        {% empty %}
        <p>No products available in this category yet.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}
